<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>剑圣、法圣和新的大陆 - Nothentai X 静寂之夜 !</title>
  <meta name="description" content="">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/custom_style.css">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
  <script src="/js/main.js"></script>
  <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
<meta name="generator" content="Hexo 7.3.0"></head>
<body>
  <div class="container">
    <!-- 顶部导航 -->
    <header class="header">
      <div class="header-inner">
        <!-- Logo -->
        <div class="logo">
        <!--  <a href="/">
            <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDI0IDI0Ij48Y2lyY2xlIGN4PSI0IiBjeT0iMTIiIHI9IjMiIGZpbGw9ImN1cnJlbnRDb2xvciI+PGFuaW1hdGUgaWQ9InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAiIGF0dHJpYnV0ZU5hbWU9InIiIGJlZ2luPSIwO3N2Z1NwaW5uZXJzM0RvdHNTY2FsZTEuZW5kLTAuMjVzIiBkdXI9IjAuNzVzIiB2YWx1ZXM9IjM7LjI7MyIvPjwvY2lyY2xlPjxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjMiIGZpbGw9ImN1cnJlbnRDb2xvciI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iciIgYmVnaW49InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAuZW5kLTAuNnMiIGR1cj0iMC43NXMiIHZhbHVlcz0iMzsuMjszIi8+PC9jaXJjbGU+PGNpcmNsZSBjeD0iMjAiIGN5PSIxMiIgcj0iMyIgZmlsbD0iY3VycmVudENvbG9yIj48YW5pbWF0ZSBpZD0ic3ZnU3Bpbm5lcnMzRG90c1NjYWxlMSIgYXR0cmlidXRlTmFtZT0iciIgYmVnaW49InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAuZW5kLTAuNDVzIiBkdXI9IjAuNzVzIiB2YWx1ZXM9IjM7LjI7MyIvPjwvY2lyY2xlPjwvc3ZnPg==" data-original="/images/logo.png" alt="Nothentai X 静寂之夜" width="800px" height="80px">
          </a>-->
          <a href="/">
            <p>Nothentai X 静寂之夜</p>
        </div>
        
        <!-- 搜索框 -->
        
        <div class="search-box">
          <input type="text" placeholder="搜索文章..." class="search-input">
          <button class="search-btn">搜索</button>
        </div>
        
      </div>
    </header>

  <div class="container">
    <!-- 主要内容区域 -->
    <div class="main-content">
      <!-- 侧边栏 -->
      <aside class="sidebar" id="sidebar">
        <!-- 关闭按钮 -->
        <button class="close-sidebar" id="close-sidebar">×</button>
        
        <!-- 菜单 -->
        <nav class="menu">
          <ul class="menu-list">
            
            <li class="menu-item">
              <a href="/" class="menu-link">主页</a>
            </li>
            
            <li class="menu-item">
              <a href="/archives" class="menu-link">归档</a>
            </li>
            
            <li class="menu-item">
              <a href="/about" class="menu-link">关于</a>
            </li>
            
            <li class="menu-item">
              <a href="/links" class="menu-link">友链</a>
            </li>
            
          </ul>
        </nav>
        
        <!-- 分类 
        <div class="category">
          <h3 class="widget-title">分类</h3>
          <ul class="category-list">
            
          </ul>
        </div>-->
        
        <!-- 标签 -->
        <div class="tag">
          <h3 class="widget-title">标签</h3>
          <div class="tag-cloud">
            
            <a href="/tags/novel/" class="tag-link" style="font-size: 20px;">novel(4)</a>
            
            <a href="/tags/pic/" class="tag-link" style="font-size: 36px;">pic(12)</a>
            
          </div>
        </div>
      </aside>

      <!-- 内容区域 -->
      <main class="content">
        <!-- 文章详情 -->
        <article class="article-detail">
          <!-- 文章标题 -->
          <h1 class="article-title">剑圣、法圣和新的大陆</h1> 

          </div>
          
          <!-- 文章内容 -->
          <div class="article-content">
            
            
            
            <p>背景补充文下半部，讲述了法圣和剑圣从其他次元降临新大陆的故事。</p>
<hr>
<p>广阔无垠的宇宙内，有着恒河沙般数目的次元，不同的次元其内的法则生态或者生命形式都不同，而此时位于神秘时空的一处次元内，两道不速之客悄然出现，瞬间给这里的空间造成了强烈的动荡，周围的时空壁垒似乎承受不住这两道人影，一道又一道的裂痕如闪电般凝聚而成，想必不出片刻，这里就会化为乌有吧。</p>
<p>“收敛气息！剑圣，你身上的气息太强了，这里的时空承受不住！”说话的一位中年男人，身着暗紫色长袍，其中有着无数的神秘花纹在身上流淌，时刻散发着恐怖的气息。</p>
<p>被称为剑圣的同样也是一名男人，闻言瞬间收敛气息，顿时变成了一名和普通人没什么区别的中年大叔，当然他身上穿戴的是银白色盔甲，不算张扬，但也告诉着世人自己可是不好惹的。</p>
<p>“法圣，我们此时在哪？”剑圣缓缓开口询问道。</p>
<p>“我也不知道，我当时启动的是随机传送的大挪移术式。”法圣回答道。</p>
<p>“那我们接下来要做什么？”剑圣看向法圣。</p>
<p>“接下来当然是躲起来了……”法圣自嘲一句，然后开口说道，“我刚才已经探查了一遍这里的时空，很幸运，这里是没有虚空神殿气息的。”</p>
<p>“呼……”剑圣呼出一口气，似乎放松了下来。</p>
<p>“而且我还发现了一个有趣的地方，那就是这里的时空很小，只有一个虚空的大陆，上面也有着和我们外表一样的人类”法圣指向一处开口说道。</p>
<p>“哦？”剑圣朝着法圣指的位置看去，果然，距离他们的10万光年的地方，正存在着一处大陆，而且其中发展的也是魔法与剑气的社会，当即让剑圣充满着好奇心。</p>
<p>“那我们接下来去那里？”剑圣问道。</p>
<p>“也只能去那边了，我们可以隐藏在里面，这样虚空神殿的人想找到我们也是非常困难的”法圣点了点头道，接着法力一转，身形消散不见。</p>
<p>“等等我啊！”剑圣见此立即运转体内的剑气，朝着法圣的位置前行。</p>
<p>很快，两人来到了这一个神秘的大陆外围，和正常的星球不同，虚空大陆一般是漂浮着的，周围全是流不尽的海水从大陆四周洒落，当真是不可思议。</p>
<p>“一个不错的大陆”法圣用魔力遍布双眼，能够轻松的探查周围环境的一切，对于一个小小的大陆而已，更是能够扫描每个人的信息，很快这个大陆的一切消息都被法圣得知。</p>
<p>“原来这个大陆叫卡欧斯大陆，只有一个帝国，名为卡欧斯，而统治者则被称为凯撒大帝，是一名实力强大的剑士，当年以不可阻挡的气势消灭了四大国家，统一了大陆，被誉为这个大陆千年来最强大最伟大的皇帝。”法圣将得到的消息传递给了剑圣，言语着充满平静。</p>
<p>“那这位凯撒大帝实力与我们相比如何？”剑圣好奇问道。</p>
<p>法圣闻言，顿了一下，想了片刻，缓缓回答，“实力应该和我们次元的圣人差不多”</p>
<p>“原来是个小小的圣人”听到回答，剑圣笑了，是啊，圣人，是平常人眼里不可想象的强者，但是对于剑圣和法圣两位进入神位的人来讲，圣人不过是强一点的蚂蚁罢了，自己随手就能解决。</p>
<p>“虽然是个圣人，但我们最好不要随意屠戮，先降临到帝国和他交谈下吧，到时候再说。”法圣知道剑圣想干什么，当即阻拦，毕竟对于这种大陆唯一圣人来讲，肯定会得到世界意志的庇护，寻常情况下可非常难以解决。</p>
<p>“呃……好吧”剑圣无可奈何，但是他知道法圣比自己聪明，所以还是答应了下来，但是内心却有着自己的打算。</p>
<p>两人商议后立即降临到卡欧斯帝国的皇宫内，和大多数皇宫差不多，金碧辉煌，尽显奢华，而此时的凯撒大帝正在朝堂之上和大臣商议着治国方针，突然两道身影就突兀着出现在他们眼前。</p>
<p>“什么人？”凯撒大帝反应最快，立即用剑气围绕其他大臣并拉到自己的身后，然后双眼紧紧地看着剑圣和法圣，此时的他内心一片悸动，他竟然看不穿眼前两人的境界，当然作为一国之君，很快将紧张的心态掩盖。</p>
<p>“凯撒大帝，我等是其他世界的人，今日降临此地，有事与你商量。”法圣扫了一眼凯撒，似乎瞬间掌握了种种信息，紧接着用充满神圣的语气开口说道。</p>
<p>“什么？其他世界的人？”一名大臣突然惊呼，满脸不可置信。</p>
<p>“原来这个世界果然还有其他时空的存在，我就说我的研究没有错吧！”又是一名学者打扮的白发老人道。</p>
<p>“他们是来做什么的呢？侵略吗？”一名将军模样的中年男人眉头紧皱，内心种种的忧虑传来。</p>
<p>“有大帝在，我们怕什么？”将军隔壁的大臣不以为然，因为在他内心深处，大帝就是无敌的象征，没有什么能威胁他。</p>
<p>“安静！”凯撒大帝开口喝道，顿时让其他人的议论声停了下来。</p>
<p>“尊敬的两人大人，请问有什么需要的吗？只要我能满足的，不管是什么都能答应”凯撒深吸一口气，在其他大臣不可置信的目光下低下了头。</p>
<p>这一个动作，顿时让满堂的大臣长大了嘴，眼前的可是大陆的最强者啊，是横扫了四大帝国的存在，居然低头了？而且看他的姿态还非常低微，想到了这里，大家的内心都产生了各种想法，当然这群人所想的东西，法圣尽收眼底，他没有阻止，他要的就是这种效果。</p>
<p>“哦？什么都能答应？”一旁的剑圣看了一眼凯撒，开口嘲弄道。</p>
<p>“是…是的，两位大人，只要我能够满…！”凯撒内心如坠冰窖，剑圣仅仅是看了自己一眼，就让自己身后大汗淋漓，当即回答，头更低了。</p>
<p>“哦，那你就去死吧！因为我要你的命！”剑圣还未等凯撒说完话，左手一道剑气就径直穿透了凯撒的身体，在众人恐惧的目光中切成了两半，鲜血喷涌出来。</p>
<p>满朝皆惊，这还没有几分钟呢，他们尊崇的凯撒大帝就死了，甚至还没有进行任何的反抗，当即有几位大臣受不了惊吓把尿都吓出来了，而其他大臣则是不敢行动，生怕剑圣也把他们杀了。</p>
<p>“剑圣！你！”法圣也是没有想到剑圣的行为，还没有反应过来凯撒就死了，顿时不知道说什么好。</p>
<p>“法圣，区区一个落后大陆的强者而已，你担心什么？这种圣人我们平时杀的还少吗？”剑圣看出了法圣的不满，摇了摇头道。</p>
<p>“剑圣，我只是担心世界意志而已，这凯撒大帝显然就是这个大陆的主角，我们杀了他，可能会惹来麻烦”法圣叹了口气。</p>
<p>“区区世界意志而已，你看，此时我可有任何问题？”剑圣对世界意志是非常不屑的，毕竟自己能够成为神境强者，是吸收了自己世界的意志才成功晋级的，在他眼里，世界意志就是资粮，是让自己变强的存在，此时他巴不得世界意志出现，然后吞噬，让自己变得更强。</p>
<p>“好吧”法圣知道剑圣的性格，当即不再理会这件事，而是看向其他大臣，“凯撒大帝已经死了的消息不准散布出去，你们依旧当大臣，不过这个国家的统治者变成了我法圣和剑圣，你们知道了吧？”</p>
<p>“哼，果然是侵略的吗，虽然凯撒大帝死了，但是我不会屈服于你的！”之前那位将军模样的中年男人突然站起来道。</p>
<p>撕~</p>
<p>又是一道剑气飞过，将军模样的男人就变成了尸体。</p>
<p>“还有人不服吗？”剑圣扫向四周。</p>
<p>“是……是……我们表示臣服……”最终一名名大臣跪下臣服，毕竟和忠义相比，还是自己的性命更加重要啊。</p>
<p>“咒术·誓言！”突然一道神圣的光芒笼罩着大臣们，这是法圣动手了，这一招乃是神圣魔法，能够沟通次元意志建立条约，将众人的誓言全部录入进去，谁只要有违背之心，就会被次元的意志彻底抹杀，这一招的权限比世界意志要高，所以几乎是没法解除的。</p>
<p>“法圣，为什么还要用魔法？”剑圣表示不解，这一招魔法他也知道，使用后可是会让自己陷入虚弱的，对于一些弱小的凡人，有必要这样吗？</p>
<p>“凯撒大帝毕竟是主角一样的存在，如果不控制这群大臣，以后说不定会借助他们的力量卷土重来，而今被我用咒术控制，他们内心的想法完全被我得知，要想颠覆我们的统治也就变得不可能了，而且咒术是具备遗传性质的，也就是他们的后代无法反抗，而后代和其他人交配产生的后代也无法反抗，最终万世臣服”法圣耐心的解释着。</p>
<p>“好狠！”法圣是故意说得，就是让这群大臣们知道自己不可能有违背的心理了，不然以后就是整个家族都不复存在。</p>
<p>“好了，你们下去吧，帝国的政策目前不变，有事我会传召你们”</p>
<p>“是！”众大臣告退。</p>
<p>“凯撒真的死了吗？”剑圣突然开口，他从法圣的话中知道了凯撒是主角一样的存在，所谓主角就是这个大陆的代言人，有着种种不可思议的力量，死后复活这种事也是可能的。</p>
<p>“凯撒没有死，但是这个大陆的意志不敢将他轮回，它担心我们向它出手，它在等待一个时机”法圣开口回答，自从在大陆外围扫描了信息之后，对于这个大陆的意志行事手法就有了一个了解，可以说，只要法圣愿意，可以随时取代大陆意志，当然他不可能这样做，因为原本的大陆意志还存在着，自己如果取代而为之，说不定会反被吞噬。</p>
<p>“剑圣，接下来我们就隐藏在帝国之中，名义上还是凯撒大帝统治着一切，只有这样才能取得名义，才能让我们更方便的安排接下来的计划。”法圣又说了一句。</p>
<p>“我知道了，接下来我会收敛的”剑圣点了点头，他对于法圣是完全信任的，当即身形一闪消失在朝堂之上。</p>
<p>“哎，虽然被剑圣打断了我的计划，不过最终效果还是好的，看来这里的大陆意志还比较薄弱，对于剑圣根本无可奈何，所以凯撒被杀了自己也没有动静，不过，大陆意志你还是逃不出我的掌心。”法圣呢喃着，突然也消失了身影。</p>
<p>这里又回归了平静，普通百姓压根不知道自己的大帝已经换人了，依旧过着和以前一样的生活，但是背后却暗流涌动，新的风暴即将来临。</p>

            

 <!-- 文章标签 -->
          
          <div class="article-tags">
            <span>标签: </span>
            
            <a href="/tags/novel/" class="tag-link">novel</a>
            
            <!--<span class="article-date">发布于: 2025-08-27</span>   -->          
          
            <span class="article-update">最后更新于: 2025-08-27</span>
            
          </div>
          


          
          <!-- 评论区 -->
          <div id="vcomments"></div>
          <script>
              new Valine({
                  el: '#vcomments',
                  appId: 'YecVxUTZNrc5Vtwf3EiBVjDS-gzGzoHsz',
                  appKey: 'K8RWMiZS6uPd5M4Ymt1RoTXO'
              })
          </script>

          </div>
          

        </article>
      </main>
    </div>

    <!-- 底部信息 -->
    <!-- 底部信息 -->
    <footer class="footer">
      <div class="footer-inner">
        <!-- 菜单按钮 -->
        <button class="menu-btn" id="menu-btn">菜单</button>
        
        <!-- 标签名称 -->
        <div class="tag-name">
          <span>自定义标签123</span>
        </div>
        
        <!-- 自定义链接 -->
        <div class="custom-links">
          
          <a href="/rm" class="custom-link">RM</a>
          
          <a href="/about" class="custom-link">关于</a>
          
          <a href="/archives" class="custom-link">归档</a>
          
        </div>
        
        <!-- 静态文字 -->
        <div class="static-text">
          © 2025 自定义主题测试
        </div>
      </div>
    </footer>
  </div>

  <!-- 遮罩层 -->
  <div class="overlay" id="overlay"></div>

  <!-- PhotoSwipe CSS -->
  <link href="https://cdn.bootcss.com/photoswipe/4.1.3/photoswipe.min.css" rel="stylesheet">
  <link href="https://cdn.bootcss.com/photoswipe/4.1.3/default-skin/default-skin.min.css" rel="stylesheet">
  
  <!-- PhotoSwipe JS -->
  <script src="https://cdn.bootcss.com/photoswipe/4.1.3/photoswipe.min.js"></script>
  <script src="https://cdn.bootcss.com/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>
  
  <script>
    // 侧边栏控制
    $(document).ready(function() {
      // 菜单按钮点击
      $('#menu-btn').click(function() {
        $('#sidebar').addClass('sidebar-open');
        $('#overlay').fadeIn();
      });
      
      // 关闭按钮点击
      $('#close-sidebar').click(function() {
        $('#sidebar').removeClass('sidebar-open');
        $('#overlay').fadeOut();
      });
      
      // 点击遮罩层关闭
      $('#overlay').click(function() {
        $('#sidebar').removeClass('sidebar-open');
        $(this).fadeOut();
      });
      
      // 搜索功能
      $('.search-btn').click(function() {
        let keyword = $('.search-input').val();
        if (keyword) {
          // 简单的搜索实现
          //alert('搜索关键词: ' + keyword);
        }
      });
      
      // 按回车键搜索
      $('.search-input').keypress(function(e) {
        if (e.which == 13) {
          $('.search-btn').click();
        }
      });

      // PhotoSwipe 初始化
      initPhotoSwipeFromDOM();
    });

    // 从 DOM 初始化 PhotoSwipe 的函数
    function initPhotoSwipeFromDOM() {
      // 为文章内容区域添加样式，使图片可以瀑布流显示
      if (!document.getElementById('waterfall-style')) {
        var style = document.createElement('style');
        style.id = 'waterfall-style';
        style.textContent = `
          .waterfall-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            grid-gap: 10px;
            margin: 20px 0;
            justify-items: center;
            align-items: stretch;
          }
          @media (max-width: 768px) {
            .waterfall-container {
              grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }
          }
          .waterfall-container p {
            margin-bottom: 10px;
            width: 100%;
          }
          .waterfall-container img {
            width: 100%;
            height: auto;
            border-radius: 4px;
            transition: transform 0.2s;
            cursor: pointer;
            display: block;
          }
          .waterfall-container img:hover {
            transform: scale(1.02);
          }
          .article-content img {
            cursor: pointer;
            max-width: 100%;
            height: auto;
            transition: transform 0.2s;
          }
          .article-content img:hover {
            transform: scale(1.01);
          }
        `;
        document.head.appendChild(style);
      }

      // 初始化所有文章图片的灯箱效果
      var articleImages = document.querySelectorAll('.article-content img');
      initGalleryForImages(articleImages);
      
      // 初始化waterfall-container中的图片的灯箱效果
      var waterfallImages = document.querySelectorAll('.waterfall-container img');
      initGalleryForImages(waterfallImages);

      // 为一组图片初始化灯箱效果的函数
      function initGalleryForImages(images) {
        // 收集所有图片信息，用于创建完整的图库
        var items = [];
        
        // 为每张图片添加点击事件
        for (var i = 0; i < images.length; i++) {
          var img = images[i];
          
          // 添加光标样式，表明图片可点击
          img.style.cursor = 'pointer';
          
          // 获取图片源
          var imgSrc = img.getAttribute('data-original') || img.getAttribute('src');
          
          // 优先使用data-size属性获取尺寸，这样可以确保灯箱显示正确的图片比例
          var width = 1200; // 默认宽度
          var height = 900; // 默认高度
          
          // 检查是否有data-size属性
          var dataSize = img.getAttribute('data-size');
          if (dataSize) {
            var sizeParts = dataSize.split('x');
            if (sizeParts.length === 2) {
              width = parseInt(sizeParts[0], 10) || width;
              height = parseInt(sizeParts[1], 10) || height;
            }
          } else if (img.naturalWidth && img.naturalHeight) {
            // 如果没有data-size属性但图片已加载完成，使用naturalWidth/naturalHeight
            width = img.naturalWidth;
            height = img.naturalHeight;
          } else {
            // 如果图片未加载完成，使用临时图像获取真实尺寸
            var tempImg = new Image();
            tempImg.onload = function(index) {
              // 图片加载完成后更新items数组中的尺寸
              if (items[index] && typeof this.width === 'number' && typeof this.height === 'number') {
                items[index].w = this.width;
                items[index].h = this.height;
                console.log('图片真实尺寸获取成功:', this.width, 'x', this.height);
              }
            }.bind(tempImg, i);
            tempImg.src = imgSrc;
          }
          
          // 添加图片到items数组
          items.push({
            src: imgSrc,
            w: width,
            h: height,
            title: img.alt || ''
          });
          
          // 为图片添加点击事件，使用完整的items数组初始化灯箱
          (function(img, index) {
            img.onclick = function(e) {
              e.preventDefault ? e.preventDefault() : e.returnValue = false;
              
              // 使用完整的图片列表初始化灯箱，并设置当前索引
              var gallery = new PhotoSwipe(document.querySelectorAll('.pswp')[0], PhotoSwipeUI_Default, items, {
                index: index, // 设置当前点击的图片索引
                bgOpacity: 0.9, // 增加背景透明度
                showHideOpacity: true,
                padding: 20, // 添加内边距
                maxSpreadZoom: 2, // 增加最大缩放比例
                getDoubleTapZoom: function(isMouseClick, item) {
                  // 双击缩放设置
                  if(isMouseClick) {
                    return item.zoomLevel * 1.8; // 鼠标点击缩放
                  } else {
                    return item.zoomLevel * 2.5; // 触摸双击缩放
                  }
                },
                // 确保控件可见
                showAnimationDuration: 333,
                hideAnimationDuration: 333,
                // 启用键盘导航
                keyboard: true,
                // 自定义UI控件配置
                barsSize: {
                  top: 44,
                  bottom: 44
                },
                tapToClose: false,
                tapToToggleControls: true
              });
              
              try {
                gallery.init();
              } catch (err) {
                console.error('灯箱初始化失败:', err);
              }
              
              return false;
            };
          })(img, i);
        }
      }
      
      // 缩略图点击事件处理（保留原有的功能，以支持 .image-container 元素）
      function onThumbnailsClick(e) {
        e = e || window.event;
        e.preventDefault ? e.preventDefault() : e.returnValue = false;
        
        var eTarget = e.target || e.srcElement;
        
        // 查找最近的包含图片的元素
        var clickedGallery = closest(eTarget, '.image-container');
        
        if (!clickedGallery) return;
        
        // 获取图库中的所有图片元素
        var childNodes = clickedGallery.childNodes;
        var numChildNodes = childNodes.length;
        var items = [];
        var figureEl = clickedGallery;
        var linkEl = figureEl.children[0];
        var size = figureEl.getAttribute('data-size') || '800x600';
        size = size.split('x');
        
        // 创建 PhotoSwipe 项目
        var item = {
          src: linkEl.getAttribute('href') || linkEl.getAttribute('src') || linkEl.getAttribute('data-original'),
          w: parseInt(size[0], 10),
          h: parseInt(size[1], 10)
        };
        
        if (figureEl.children.length > 1) {
          item.title = figureEl.children[1].innerHTML;
        }
        
        if (linkEl.children.length > 0) {
          // 设置缩略图
          item.msrc = linkEl.children[0].getAttribute('src');
        }
        
        items.push(item);
        
        // 初始化 PhotoSwipe
        var gallery = new PhotoSwipe(document.querySelectorAll('.pswp')[0], PhotoSwipeUI_Default, items, {
          index: 0,
          bgOpacity: 0.7,
          showHideOpacity: true
        });
        gallery.init();
        return false;
      }

      // 辅助函数：查找最近的匹配元素
      function closest(el, fn) {
        if (typeof fn !== 'string') {
          while (el) {
            if (fn(el)) return el;
            el = el.parentNode;
          }
        } else {
          var selectorFn = function(el) {
            return el.matches ? el.matches(fn) : el.msMatchesSelector && el.msMatchesSelector(fn);
          };
          while (el) {
            if (selectorFn(el)) return el;
            el = el.parentNode;
          }
        }
        return null;
      }
    }
  </script>

    <!-- Root element of PhotoSwipe. Must have class pswp. -->
    <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
        <!-- Background of PhotoSwipe. 
             It's a separate element as animating opacity is faster than rgba(). -->
        <div class="pswp__bg"></div>
        
        <!-- Slides wrapper with overflow:hidden. -->
        <div class="pswp__scroll-wrap">
            <!-- Container that holds slides.
                 PhotoSwipe keeps only 3 of them in the DOM to save memory.
                 Don't modify these 3 pswp__item elements, data is added later on. -->
            <div class="pswp__container">
                <div class="pswp__item"></div>
                <div class="pswp__item"></div>
                <div class="pswp__item"></div>
            </div>
            
            <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area.
                 Can be changed. -->
            <div class="pswp__ui pswp__ui--hidden">
                <div class="pswp__top-bar">
                    <!--  Controls are self-explanatory. Order can be changed. -->
                    <div class="pswp__counter"></div>
                    <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                    <button class="pswp__button pswp__button--share" title="Share"></button>
                    <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                    <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                    
                    <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                    <!-- element will get class pswp__preloader--active when preloader is running -->
                    <div class="pswp__preloader">
                        <div class="pswp__preloader__icn">
                          <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                          </div>
                        </div>
                    </div>
                </div>
                
                <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                    <div class="pswp__share-tooltip"></div>
                </div>
                
                <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
                <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>
                
                <div class="pswp__caption">
                    <div class="pswp__caption__center"></div>
                </div>
            </div>
        </div>
    </div>

  
        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z\d\-\.\+]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(t.test(e.href)||r.test(e.href))&&(e.href=a.dataset.original)})});</script><script>(r=>{r.imageLazyLoadSetting.processImages=t;var a=r.imageLazyLoadSetting.isSPA,o=r.imageLazyLoadSetting.preloadRatio||1,d=i();function i(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(t){(a||t)&&(d=i());for(var e,n=0;n<d.length;n++)0<=(e=(e=d[n]).getBoundingClientRect()).bottom&&0<=e.left&&e.top<=(r.innerHeight*o||document.documentElement.clientHeight*o)&&(()=>{var t,e,a,o,i=d[n];e=function(){d=d.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).dataset.loaded||(t.hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(a=new Image,o=t.getAttribute("data-original"),a.onload=function(){t.src=o,t.removeAttribute("data-original"),t.setAttribute("data-loaded",!0),e&&e()},a.onerror=function(){t.removeAttribute("data-original"),t.setAttribute("data-loaded",!1),t.src=o},t.src!==o&&(a.src=o)))})()}function e(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",e),r.addEventListener("resize",e),r.addEventListener("orientationchange",e)})(this);</script></body>
</html>
  </div>

  <!-- 遮罩层 -->
  <div class="overlay" id="overlay"></div>