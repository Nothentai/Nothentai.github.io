<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>剑圣、法圣、暗月和太炎 - Nothentai X 静寂之夜 !</title>
  <meta name="description" content="">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/custom_style.css">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
  <script src="/js/main.js"></script>
  <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
<meta name="generator" content="Hexo 7.3.0"></head>
<body>
  <div class="container">
    <!-- 顶部导航 -->
    <header class="header">
      <div class="header-inner">
        <!-- Logo -->
        <div class="logo">
        <!--  <a href="/">
            <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDI0IDI0Ij48Y2lyY2xlIGN4PSI0IiBjeT0iMTIiIHI9IjMiIGZpbGw9ImN1cnJlbnRDb2xvciI+PGFuaW1hdGUgaWQ9InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAiIGF0dHJpYnV0ZU5hbWU9InIiIGJlZ2luPSIwO3N2Z1NwaW5uZXJzM0RvdHNTY2FsZTEuZW5kLTAuMjVzIiBkdXI9IjAuNzVzIiB2YWx1ZXM9IjM7LjI7MyIvPjwvY2lyY2xlPjxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjMiIGZpbGw9ImN1cnJlbnRDb2xvciI+PGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iciIgYmVnaW49InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAuZW5kLTAuNnMiIGR1cj0iMC43NXMiIHZhbHVlcz0iMzsuMjszIi8+PC9jaXJjbGU+PGNpcmNsZSBjeD0iMjAiIGN5PSIxMiIgcj0iMyIgZmlsbD0iY3VycmVudENvbG9yIj48YW5pbWF0ZSBpZD0ic3ZnU3Bpbm5lcnMzRG90c1NjYWxlMSIgYXR0cmlidXRlTmFtZT0iciIgYmVnaW49InN2Z1NwaW5uZXJzM0RvdHNTY2FsZTAuZW5kLTAuNDVzIiBkdXI9IjAuNzVzIiB2YWx1ZXM9IjM7LjI7MyIvPjwvY2lyY2xlPjwvc3ZnPg==" data-original="/images/logo.png" alt="Nothentai X 静寂之夜" width="800px" height="80px">
          </a>-->
          <a href="/">
            <p>Nothentai X 静寂之夜</p>
        </div>
        
        <!-- 搜索框 -->
        
        <div class="search-box">
          <input type="text" placeholder="搜索文章..." class="search-input">
          <button class="search-btn">搜索</button>
        </div>
        
      </div>
    </header>

  <div class="container">
    <!-- 主要内容区域 -->
    <div class="main-content">
      <!-- 侧边栏 -->
      <aside class="sidebar" id="sidebar">
        <!-- 关闭按钮 -->
        <button class="close-sidebar" id="close-sidebar">×</button>
        
        <!-- 菜单 -->
        <nav class="menu">
          <ul class="menu-list">
            
            <li class="menu-item">
              <a href="/" class="menu-link">主页</a>
            </li>
            
            <li class="menu-item">
              <a href="/archives" class="menu-link">归档</a>
            </li>
            
            <li class="menu-item">
              <a href="/about" class="menu-link">关于</a>
            </li>
            
            <li class="menu-item">
              <a href="/links" class="menu-link">友链</a>
            </li>
            
          </ul>
        </nav>
        
        <!-- 分类 
        <div class="category">
          <h3 class="widget-title">分类</h3>
          <ul class="category-list">
            
          </ul>
        </div>-->
        
        <!-- 标签 -->
        <div class="tag">
          <h3 class="widget-title">标签</h3>
          <div class="tag-cloud">
            
            <a href="/tags/novel/" class="tag-link" style="font-size: 20px;">novel(4)</a>
            
            <a href="/tags/pic/" class="tag-link" style="font-size: 36px;">pic(12)</a>
            
          </div>
        </div>
      </aside>

      <!-- 内容区域 -->
      <main class="content">
        <!-- 文章详情 -->
        <article class="article-detail">
          <!-- 文章标题 -->
          <h1 class="article-title">剑圣、法圣、暗月和太炎</h1> 

          </div>
          
          <!-- 文章内容 -->
          <div class="article-content">
            
            
            
            <p>游戏背景补充文上半部，讲述了虚空神殿与法圣剑圣的恩怨。</p>
<hr>
<p>两道流星悄然划过，在这漆黑的虚空中留下两道痕迹，如图黑夜的萤火虫，照亮了虚空。<br>靠近一看，流星内是两道人影，他们气息萎靡，身上尽是被魔法攻击过的痕迹，虽然伤势很重，但他们却无暇那么多，用尽全力在进行飞行。</p>
<p>“剑圣，他们距离我们还有多远？”流星内的人说话了，是一位年长的男人，年龄大概四五十岁，身穿暗紫色长袍，上面纹绣着各种各样的魔法元素符号告诉世人自己尊贵的身份。</p>
<p>被称为剑圣的也是一名男人，不同的是岁数看起来只有三四十岁的样子，身上披着银白色的铠甲，虽然让人看不出虚实，但是身上却隐隐约约散发着让人恐惧的气息。</p>
<p>“法圣，他们应该很快就追上来，毕竟我们身上可是有他们的气息。”剑圣低语道。</p>
<p>“那可有逃脱之法？”法圣继续问着，脸上露出焦虑的神情。</p>
<p>“一直跑一直跑，跑到其他次元我们就成功了，现在距离下一个壁垒还差一点距离，坚持住！</p>
<p>”</p>
<p>时间过得很快，就在两人持续飞行几分钟后，一道道人影显现，身上穿戴着统一的服饰，气息凛然，充满着肃杀之意。</p>
<p>“暗月大人，剑圣和法圣在3分钟前刚刚从这里离开，根据我们的推测，他们应该是打算前往下一个次元壁垒。”在人群中，一位蒙面的男人对着旁边一名看不清容貌的少女恭敬说道。</p>
<p>“既然如此，那我们就跳跃过去吧，这里的星域正好还是我的管辖范围，你立刻准备传送门，务必要在他们逃跑前到达！”</p>
<p>“是，暗月大人！”蒙面男人恭敬的回道。</p>
<p>很快在蒙面男人的安排下，一道传送阵建立完毕，随后一道道人影快速通过，没有留下任何痕迹，仿佛他们压根没来过这里一样。</p>
<p>与此同时，剑圣和法圣刚好抵达次元壁垒，正准备踏入大门的时候却赫然发现一道道人影正等待着他们的到来。</p>
<p>“这不是剑圣和法圣吗，你们跑得真是挺快的。”蒙面男人戏谑道。</p>
<p>“原来是暗月大人，没想到您还是追来了，看来我们还是难逃此一劫”剑圣有些淡然的说着，但眼神却一直盯着眼前的蒙面男人，他的直觉告诉自己，这人不简单。</p>
<p>“既然如此，那你把身上的东西交出来，然后跟我回去，说不定还能有一线生机，你觉得这个提议呢？”这时，在一旁的暗月突然开口说道，虽然语气平淡，但却充满冰冷的杀意，看向剑圣如同看待羔羊一样。</p>
<p>“哼，跟你们回去怕是立马就被打入暗黑大世界了，我们还没有那么傻，剑圣动手吧。”一旁的法圣突然嗤笑一声，作为成名已久的人，心智自然不会低，怎么可能会被这种低劣的谎言欺骗，当即看向剑圣。</p>
<p>“动手？就凭你们两个吗？也不看看是谁把你们打伤的，既然如此……”暗月不屑的看向剑圣与法圣二人，紧接着便看向身旁的蒙面男子，“暗影，这次就由你上，其余人都退后！”</p>
<p>“是！”蒙面男子立即答应道，然后快速向前掠去，没有丝毫的犹豫，身上恐怖的气息立刻散发而出。</p>
<p>“被称为暗月最强侍卫的暗影吗？就由我来会会你！”剑圣没有多说废话，直接抽出大剑，径直撞了过去。</p>
<p>“轰！”</p>
<p>两人的身影混杂在一起，爆发出一道强力的光芒，然后一道道剑气如同涟漪般闪烁，恐怖的剑气转瞬即发，疯狂的肆虐整个空间。</p>
<p>“哼，神法·黑暗影刺！”暗影低哼一声，撞击的瞬间立即发动了技能，紧接着，整个人直接化为了一道黑色的影子，完美的融入到虚空当中，相传这一招乃是刺客之神所创造的招式，能让人化为阴影，然后在敌人意想不到的位置突然显现并给予致命的一击。</p>
<p>“雕虫小技！”剑圣脸色不变，体内剑气轰然爆发，在身上快速形成了一层金黄色的保护膜！</p>
<p>神法·剑气护体！</p>
<p>剑圣创造的神法，利用体内剑气外泄，使得周围形成一层光罩，能够免疫绝大多数的攻击，面对刺客，必然不能松懈。</p>
<p>“神法·剑气纵横！”剑圣没有停下，继续使用其他招式，在保护膜形成的瞬间，剑气再度爆发，轰炸整个区域！</p>
<p>而此时在虚空里面的暗影不断躲闪，虽然在剑圣的攻击下他无法接近，但是剑圣也无法轻易察觉他的位置，因此才会使用大范围的攻击招式。</p>
<p>“哼，既然如此，那我就来耗死你！”暗影此刻心里想着，既然剑圣无法找到他的位置，那干脆不靠近，利用小技能骚扰他，让他不断使用消耗大的技能，想到这里，暗影不禁笑了一声。</p>
<p>说到做到，暗影利用优势，不断骚扰，让剑圣时刻处于紧绷的状态，时刻维持着身上的保护罩，同时还要耳听八方眼观六路，以防被暗影伤到。</p>
<p>“被誉为最强大的刺客就这点本事吗？当一只小老鼠？”剑圣忍不住骂道。</p>
<p>“刺客和剑士硬碰硬，那不叫强大，那叫傻，我既然可以这样磨死你，为什么要抱着受伤的心情去打正面？剑圣这种道理，不用我来教你吧！”虚空中传出阵阵声响，语句中充满着不屑，身为刺客，最重要的法则就是保护自己，暴露出来的刺客不叫刺客，那叫傻子，所以不管敌人如何嘲讽自己，绝对不能轻易现身，否则就会露出破绽被人击破。</p>
<p>“你不出来，那我就逼你出来！”剑圣低吼，知道自己的嘲讽无法奏效，只好将手中大剑猛地一扫，形成旋风之势，整个人如同龙卷风一样开始旋转！</p>
<p>神法·剑刃风暴！</p>
<p>无数的剑气聚集起来旋转肆虐，形成强大的吸力，瞬间就要将整个虚空的人都卷入了进来。</p>
<p>“哼！”暗月见此，左手微动，一道暗黑色光芒笼罩自己这边的人群，形成了一层紫色保护罩，让里面的人顿时松了一口气。</p>
<p>“剑圣，你小心点啊！别忘了还有我！”站在远处的法圣喊了一句，显然剑圣的攻击连他也受到了牵连，连忙催动魔力，使自己稳定下来。</p>
<p>“法圣，你自己不会站远点吗，现在紧急关头，我可没有注意力去控制范围！”</p>
<p>“唰！”就在剑圣说话的瞬间，虚空中的暗影突然闪现，手里闪烁银白光芒的长刺猛地就要插入剑圣的头颅。</p>
<p>“砰！”暗影的攻击虽然很快，但是剑圣毕竟已是登堂入圣的境界，怎么可能那么轻易露出破绽，在一瞬的思考时间内，剑圣头颅微倾，右手挥剑，将暗影的攻击顺利化解，当然还没这么简单，只见剑圣将大剑顺势劈下，如同大浪席卷一般盖了过去！</p>
<p>这一招乃是将剑气化为巨浪，如果是一般人，怕是会顷刻间化为齑粉，不过暗影作为虚空神殿最强大的刺客之一，自然不会那么容易被击退，只见他神色凛然，不躲不闪，直接冲到剑圣的面前进行厮杀，道道剑气直接在暗影身上炸裂，造成道道渗人的伤害，而且速度极快，在剑圣没有反应过来的瞬间就来到了身前！</p>
<p>“虚空神殿永存！吾皆不死！剑圣死吧！”暗影在剑圣愣神的瞬间，手中两把银白色短剑直接插入了剑圣的心脏！</p>
<p>“呃！”剑圣不禁一愣，对于暗影这种伤敌一千自损八百的做法他是万万没有想到的，不过仅凭一剑还要不到他的生命，果然，剑圣吃痛顿时反应过来，一脚踹开暗影。</p>
<p>“以命换命，暗影你不愧是虚空神殿的最强刺客！”剑圣此时捂着胸口，显然暗影带来的攻击让他非常痛苦，神色灰白，能明显感受到体内神力的流逝。</p>
<p>“剑圣，现在投降还来得及！”暗影淡淡的说着，手上的银剑还低落着剑圣的献血。</p>
<p>“哼，吾宁死！也不屈服于虚空神殿！”</p>
<p>“既然如此，那剑圣你就在这里死去吧！”暗影顿时发难，一个闪现顿时来到了剑圣的背后！</p>
<p>“背刺！”</p>
<p>“哼！暗影，你是不是忘了我的存在？”突然一道声音响起，一道光芒笼罩在剑圣身上，接着身影扭曲消失不见！</p>
<p>“谁？”失去目标的暗影一愣，接着不由地扫向四周，只看见远处法圣的位置闪烁着光芒。</p>
<p>“这里除了我法圣外还有其他人吗？”法圣笑了笑，看向一旁的剑圣，“剑圣，我已经准备好了！”</p>
<p>“看来我的拖延成效了……”气息萎靡的剑圣此刻突然笑了，看向暗影和暗月，他没有出声，但是嘴唇却在微动，“再见了，虚空神殿的诸位！”</p>
<p>说完的瞬间，法圣和剑圣两人化为流光，直接凭空消失在这一片虚空当中。</p>
<p>“这……可恶的法圣！”</p>
<p>“暗影回来吧，他们已经从这片次元离开了”暗月的声音在暗影脑中响起，无奈的他只能返回暗月的身旁。</p>
<p>“暗月大人，属下无能！让剑圣和法圣逃走了！”暗影低头的说着。</p>
<p>“算了，此事也是我有意为之，法圣那点小动作我会不知道？我只是让他们携带那件东西去别的次元而已。”暗月看了一眼暗影，接着说道，“这件事就此结束，我会上报给中心管理系统的，你们先走吧。”</p>
<p>“是！”暗影应了一声，接着便带着其他人离开了此地。</p>
<p>而站在原地的暗月却突然露出诡异的神情，“剑圣，就让你先蹦哒蹦哒，看看你能不能利用好他吧……到时候我会再亲自拿回来的。”</p>
<p>三天后，暗月来到了虚空神殿驻多环星的一处基地。</p>
<p>“暗月大人，请问您喊我来有什么要事吗？”说话的一名年轻的男子，只见此人一头让人注目的火红发型，身披棕色披风，身形虽然瘦小，但却让人看不出虚实。</p>
<p>“太炎，我叫你来，是想让你去多环星内部帮我找一样东西，其名星核！”暗月坐在椅子上说着。</p>
<p>“星核？！”太炎显然被吓到了，星核是什么？那是星球的核心，传说星核一旦离开了星球本体，那么该星球就会直接崩溃瓦解，所在位置必然就是这个星球最可怕最凶险的地方，听闻有人为了高价的悬赏而去夺得星核，结果神人俱灭，不复存在。</p>
<p>“是的，多环星已经完成了它的使命，他的资源已经尽数被我们运走，各种宝物遗迹都被完全转移，所以它最后的贡献就是星核了吧。”暗月如数家珍，轻描淡写地说着。</p>
<p>“暗月大人，可是在下实力微弱，恐怕难以胜任此大任啊……”太炎眼皮直跳，连忙回答。</p>
<p>“放心，这个星球已经没有危险了，你只需要下去拿上来就行，当然你也别慌张，我会叫你给你一颗传送水晶，拿到手直接捏碎就能直接回到母舰这里。”暗月扫了一眼太炎，淡然说道。</p>
<p>“呃……”太炎还想说些什么，不过看着暗月冰冷的表情立马就咽了下去，只能低头回答，“既然如此，那我只能去执行任务了。”</p>
<p>“早该如此，好了，你退下吧，去副官那边领取必备的东西，我已经发送了指令过去。”</p>
<p>“是！暗月大人！”太炎转身离去。</p>
<p>“任务第二环已启动，太炎你可不要让我失望，不然……”</p>

            

 <!-- 文章标签 -->
          
          <div class="article-tags">
            <span>标签: </span>
            
            <a href="/tags/novel/" class="tag-link">novel</a>
            
            <!--<span class="article-date">发布于: 2025-08-27</span>   -->          
          
            <span class="article-update">最后更新于: 2025-08-27</span>
            
          </div>
          


          
          <!-- 评论区 -->
          <div id="vcomments"></div>
          <script>
              new Valine({
                  el: '#vcomments',
                  appId: 'YecVxUTZNrc5Vtwf3EiBVjDS-gzGzoHsz',
                  appKey: 'K8RWMiZS6uPd5M4Ymt1RoTXO'
              })
          </script>

          </div>
          

        </article>
      </main>
    </div>

    <!-- 底部信息 -->
    <!-- 底部信息 -->
    <footer class="footer">
      <div class="footer-inner">
        <!-- 菜单按钮 -->
        <button class="menu-btn" id="menu-btn">菜单</button>
        
        <!-- 标签名称 -->
        <div class="tag-name">
          <span>自定义标签123</span>
        </div>
        
        <!-- 自定义链接 -->
        <div class="custom-links">
          
          <a href="/rm" class="custom-link">RM</a>
          
          <a href="/about" class="custom-link">关于</a>
          
          <a href="/archives" class="custom-link">归档</a>
          
        </div>
        
        <!-- 静态文字 -->
        <div class="static-text">
          © 2025 自定义主题测试
        </div>
      </div>
    </footer>
  </div>

  <!-- 遮罩层 -->
  <div class="overlay" id="overlay"></div>

  <!-- PhotoSwipe CSS -->
  <link href="https://cdn.bootcss.com/photoswipe/4.1.3/photoswipe.min.css" rel="stylesheet">
  <link href="https://cdn.bootcss.com/photoswipe/4.1.3/default-skin/default-skin.min.css" rel="stylesheet">
  
  <!-- PhotoSwipe JS -->
  <script src="https://cdn.bootcss.com/photoswipe/4.1.3/photoswipe.min.js"></script>
  <script src="https://cdn.bootcss.com/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>
  
  <script>
    // 侧边栏控制
    $(document).ready(function() {
      // 菜单按钮点击
      $('#menu-btn').click(function() {
        $('#sidebar').addClass('sidebar-open');
        $('#overlay').fadeIn();
      });
      
      // 关闭按钮点击
      $('#close-sidebar').click(function() {
        $('#sidebar').removeClass('sidebar-open');
        $('#overlay').fadeOut();
      });
      
      // 点击遮罩层关闭
      $('#overlay').click(function() {
        $('#sidebar').removeClass('sidebar-open');
        $(this).fadeOut();
      });
      
      // 搜索功能
      $('.search-btn').click(function() {
        let keyword = $('.search-input').val();
        if (keyword) {
          // 简单的搜索实现
          //alert('搜索关键词: ' + keyword);
        }
      });
      
      // 按回车键搜索
      $('.search-input').keypress(function(e) {
        if (e.which == 13) {
          $('.search-btn').click();
        }
      });

      // PhotoSwipe 初始化
      initPhotoSwipeFromDOM();
    });

    // 从 DOM 初始化 PhotoSwipe 的函数
    function initPhotoSwipeFromDOM() {
      // 为文章内容区域添加样式，使图片可以瀑布流显示
      if (!document.getElementById('waterfall-style')) {
        var style = document.createElement('style');
        style.id = 'waterfall-style';
        style.textContent = `
          .waterfall-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            grid-gap: 10px;
            margin: 20px 0;
            justify-items: center;
            align-items: stretch;
          }
          @media (max-width: 768px) {
            .waterfall-container {
              grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }
          }
          .waterfall-container p {
            margin-bottom: 10px;
            width: 100%;
          }
          .waterfall-container img {
            width: 100%;
            height: auto;
            border-radius: 4px;
            transition: transform 0.2s;
            cursor: pointer;
            display: block;
          }
          .waterfall-container img:hover {
            transform: scale(1.02);
          }
          .article-content img {
            cursor: pointer;
            max-width: 100%;
            height: auto;
            transition: transform 0.2s;
          }
          .article-content img:hover {
            transform: scale(1.01);
          }
        `;
        document.head.appendChild(style);
      }

      // 初始化所有文章图片的灯箱效果
      var articleImages = document.querySelectorAll('.article-content img');
      initGalleryForImages(articleImages);
      
      // 初始化waterfall-container中的图片的灯箱效果
      var waterfallImages = document.querySelectorAll('.waterfall-container img');
      initGalleryForImages(waterfallImages);

      // 为一组图片初始化灯箱效果的函数
      function initGalleryForImages(images) {
        // 收集所有图片信息，用于创建完整的图库
        var items = [];
        
        // 为每张图片添加点击事件
        for (var i = 0; i < images.length; i++) {
          var img = images[i];
          
          // 添加光标样式，表明图片可点击
          img.style.cursor = 'pointer';
          
          // 获取图片源
          var imgSrc = img.getAttribute('data-original') || img.getAttribute('src');
          
          // 优先使用data-size属性获取尺寸，这样可以确保灯箱显示正确的图片比例
          var width = 1200; // 默认宽度
          var height = 900; // 默认高度
          
          // 检查是否有data-size属性
          var dataSize = img.getAttribute('data-size');
          if (dataSize) {
            var sizeParts = dataSize.split('x');
            if (sizeParts.length === 2) {
              width = parseInt(sizeParts[0], 10) || width;
              height = parseInt(sizeParts[1], 10) || height;
            }
          } else if (img.naturalWidth && img.naturalHeight) {
            // 如果没有data-size属性但图片已加载完成，使用naturalWidth/naturalHeight
            width = img.naturalWidth;
            height = img.naturalHeight;
          } else {
            // 如果图片未加载完成，使用临时图像获取真实尺寸
            var tempImg = new Image();
            tempImg.onload = function(index) {
              // 图片加载完成后更新items数组中的尺寸
              if (items[index] && typeof this.width === 'number' && typeof this.height === 'number') {
                items[index].w = this.width;
                items[index].h = this.height;
                console.log('图片真实尺寸获取成功:', this.width, 'x', this.height);
              }
            }.bind(tempImg, i);
            tempImg.src = imgSrc;
          }
          
          // 添加图片到items数组
          items.push({
            src: imgSrc,
            w: width,
            h: height,
            title: img.alt || ''
          });
          
          // 为图片添加点击事件，使用完整的items数组初始化灯箱
          (function(img, index) {
            img.onclick = function(e) {
              e.preventDefault ? e.preventDefault() : e.returnValue = false;
              
              // 使用完整的图片列表初始化灯箱，并设置当前索引
              var gallery = new PhotoSwipe(document.querySelectorAll('.pswp')[0], PhotoSwipeUI_Default, items, {
                index: index, // 设置当前点击的图片索引
                bgOpacity: 0.9, // 增加背景透明度
                showHideOpacity: true,
                padding: 20, // 添加内边距
                maxSpreadZoom: 2, // 增加最大缩放比例
                getDoubleTapZoom: function(isMouseClick, item) {
                  // 双击缩放设置
                  if(isMouseClick) {
                    return item.zoomLevel * 1.8; // 鼠标点击缩放
                  } else {
                    return item.zoomLevel * 2.5; // 触摸双击缩放
                  }
                },
                // 确保控件可见
                showAnimationDuration: 333,
                hideAnimationDuration: 333,
                // 启用键盘导航
                keyboard: true,
                // 自定义UI控件配置
                barsSize: {
                  top: 44,
                  bottom: 44
                },
                tapToClose: false,
                tapToToggleControls: true
              });
              
              try {
                gallery.init();
              } catch (err) {
                console.error('灯箱初始化失败:', err);
              }
              
              return false;
            };
          })(img, i);
        }
      }
      
      // 缩略图点击事件处理（保留原有的功能，以支持 .image-container 元素）
      function onThumbnailsClick(e) {
        e = e || window.event;
        e.preventDefault ? e.preventDefault() : e.returnValue = false;
        
        var eTarget = e.target || e.srcElement;
        
        // 查找最近的包含图片的元素
        var clickedGallery = closest(eTarget, '.image-container');
        
        if (!clickedGallery) return;
        
        // 获取图库中的所有图片元素
        var childNodes = clickedGallery.childNodes;
        var numChildNodes = childNodes.length;
        var items = [];
        var figureEl = clickedGallery;
        var linkEl = figureEl.children[0];
        var size = figureEl.getAttribute('data-size') || '800x600';
        size = size.split('x');
        
        // 创建 PhotoSwipe 项目
        var item = {
          src: linkEl.getAttribute('href') || linkEl.getAttribute('src') || linkEl.getAttribute('data-original'),
          w: parseInt(size[0], 10),
          h: parseInt(size[1], 10)
        };
        
        if (figureEl.children.length > 1) {
          item.title = figureEl.children[1].innerHTML;
        }
        
        if (linkEl.children.length > 0) {
          // 设置缩略图
          item.msrc = linkEl.children[0].getAttribute('src');
        }
        
        items.push(item);
        
        // 初始化 PhotoSwipe
        var gallery = new PhotoSwipe(document.querySelectorAll('.pswp')[0], PhotoSwipeUI_Default, items, {
          index: 0,
          bgOpacity: 0.7,
          showHideOpacity: true
        });
        gallery.init();
        return false;
      }

      // 辅助函数：查找最近的匹配元素
      function closest(el, fn) {
        if (typeof fn !== 'string') {
          while (el) {
            if (fn(el)) return el;
            el = el.parentNode;
          }
        } else {
          var selectorFn = function(el) {
            return el.matches ? el.matches(fn) : el.msMatchesSelector && el.msMatchesSelector(fn);
          };
          while (el) {
            if (selectorFn(el)) return el;
            el = el.parentNode;
          }
        }
        return null;
      }
    }
  </script>

    <!-- Root element of PhotoSwipe. Must have class pswp. -->
    <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
        <!-- Background of PhotoSwipe. 
             It's a separate element as animating opacity is faster than rgba(). -->
        <div class="pswp__bg"></div>
        
        <!-- Slides wrapper with overflow:hidden. -->
        <div class="pswp__scroll-wrap">
            <!-- Container that holds slides.
                 PhotoSwipe keeps only 3 of them in the DOM to save memory.
                 Don't modify these 3 pswp__item elements, data is added later on. -->
            <div class="pswp__container">
                <div class="pswp__item"></div>
                <div class="pswp__item"></div>
                <div class="pswp__item"></div>
            </div>
            
            <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area.
                 Can be changed. -->
            <div class="pswp__ui pswp__ui--hidden">
                <div class="pswp__top-bar">
                    <!--  Controls are self-explanatory. Order can be changed. -->
                    <div class="pswp__counter"></div>
                    <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                    <button class="pswp__button pswp__button--share" title="Share"></button>
                    <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                    <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                    
                    <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                    <!-- element will get class pswp__preloader--active when preloader is running -->
                    <div class="pswp__preloader">
                        <div class="pswp__preloader__icn">
                          <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                          </div>
                        </div>
                    </div>
                </div>
                
                <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                    <div class="pswp__share-tooltip"></div>
                </div>
                
                <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
                <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>
                
                <div class="pswp__caption">
                    <div class="pswp__caption__center"></div>
                </div>
            </div>
        </div>
    </div>

  
        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z\d\-\.\+]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(t.test(e.href)||r.test(e.href))&&(e.href=a.dataset.original)})});</script><script>(r=>{r.imageLazyLoadSetting.processImages=t;var a=r.imageLazyLoadSetting.isSPA,o=r.imageLazyLoadSetting.preloadRatio||1,d=i();function i(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(t){(a||t)&&(d=i());for(var e,n=0;n<d.length;n++)0<=(e=(e=d[n]).getBoundingClientRect()).bottom&&0<=e.left&&e.top<=(r.innerHeight*o||document.documentElement.clientHeight*o)&&(()=>{var t,e,a,o,i=d[n];e=function(){d=d.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).dataset.loaded||(t.hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(a=new Image,o=t.getAttribute("data-original"),a.onload=function(){t.src=o,t.removeAttribute("data-original"),t.setAttribute("data-loaded",!0),e&&e()},a.onerror=function(){t.removeAttribute("data-original"),t.setAttribute("data-loaded",!1),t.src=o},t.src!==o&&(a.src=o)))})()}function e(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",e),r.addEventListener("resize",e),r.addEventListener("orientationchange",e)})(this);</script></body>
</html>
  </div>

  <!-- 遮罩层 -->
  <div class="overlay" id="overlay"></div>